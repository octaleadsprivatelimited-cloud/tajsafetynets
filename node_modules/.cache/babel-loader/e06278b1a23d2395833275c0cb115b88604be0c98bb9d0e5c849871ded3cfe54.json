{"ast":null,"code":"// Image loader utility for production deployment\nexport const loadImage = src => {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(src);\n    img.onerror = () => {\n      // Try alternative paths\n      const alternatives = [src.replace('/images/', '/static/images/'), src.replace('/images/', '/assets/images/'), src.replace('/images/', '/public/images/'),\n      // Fallback to a working image\n      '/images/safety-nets/balcony-safety-nets-1.webp'];\n      let currentIndex = 0;\n      const tryNext = () => {\n        if (currentIndex >= alternatives.length) {\n          reject(new Error('All image paths failed'));\n          return;\n        }\n        const altImg = new Image();\n        altImg.onload = () => resolve(alternatives[currentIndex]);\n        altImg.onerror = () => {\n          currentIndex++;\n          tryNext();\n        };\n        altImg.src = alternatives[currentIndex];\n      };\n      tryNext();\n    };\n    img.src = src;\n  });\n};\n\n// Get the correct image path for the current environment\nexport const getImagePath = imageName => {\n  // In production, sometimes the path needs to be different\n  if (process.env.NODE_ENV === 'production') {\n    // Try different path formats that work in production\n    return `/images/safety-nets/${imageName}`;\n  }\n  return `/images/safety-nets/${imageName}`;\n};\n\n// Preload critical images\nexport const preloadImages = async imagePaths => {\n  const promises = imagePaths.map(path => loadImage(path));\n  await Promise.allSettled(promises);\n};","map":{"version":3,"names":["loadImage","src","Promise","resolve","reject","img","Image","onload","onerror","alternatives","replace","currentIndex","tryNext","length","Error","altImg","getImagePath","imageName","process","env","NODE_ENV","preloadImages","imagePaths","promises","map","path","allSettled"],"sources":["C:/Users/bheemesh/Steel-Invisible-grills/src/utils/imageLoader.ts"],"sourcesContent":["// Image loader utility for production deployment\r\nexport const loadImage = (src: string): Promise<string> => {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    img.onload = () => resolve(src);\r\n    img.onerror = () => {\r\n      // Try alternative paths\r\n      const alternatives = [\r\n        src.replace('/images/', '/static/images/'),\r\n        src.replace('/images/', '/assets/images/'),\r\n        src.replace('/images/', '/public/images/'),\r\n        // Fallback to a working image\r\n        '/images/safety-nets/balcony-safety-nets-1.webp'\r\n      ];\r\n      \r\n      let currentIndex = 0;\r\n      const tryNext = () => {\r\n        if (currentIndex >= alternatives.length) {\r\n          reject(new Error('All image paths failed'));\r\n          return;\r\n        }\r\n        \r\n        const altImg = new Image();\r\n        altImg.onload = () => resolve(alternatives[currentIndex]);\r\n        altImg.onerror = () => {\r\n          currentIndex++;\r\n          tryNext();\r\n        };\r\n        altImg.src = alternatives[currentIndex];\r\n      };\r\n      \r\n      tryNext();\r\n    };\r\n    img.src = src;\r\n  });\r\n};\r\n\r\n// Get the correct image path for the current environment\r\nexport const getImagePath = (imageName: string): string => {\r\n  // In production, sometimes the path needs to be different\r\n  if (process.env.NODE_ENV === 'production') {\r\n    // Try different path formats that work in production\r\n    return `/images/safety-nets/${imageName}`;\r\n  }\r\n  return `/images/safety-nets/${imageName}`;\r\n};\r\n\r\n// Preload critical images\r\nexport const preloadImages = async (imagePaths: string[]): Promise<void> => {\r\n  const promises = imagePaths.map(path => loadImage(path));\r\n  await Promise.allSettled(promises);\r\n};\r\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,SAAS,GAAIC,GAAW,IAAsB;EACzD,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,MAAM,GAAG,MAAMJ,OAAO,CAACF,GAAG,CAAC;IAC/BI,GAAG,CAACG,OAAO,GAAG,MAAM;MAClB;MACA,MAAMC,YAAY,GAAG,CACnBR,GAAG,CAACS,OAAO,CAAC,UAAU,EAAE,iBAAiB,CAAC,EAC1CT,GAAG,CAACS,OAAO,CAAC,UAAU,EAAE,iBAAiB,CAAC,EAC1CT,GAAG,CAACS,OAAO,CAAC,UAAU,EAAE,iBAAiB,CAAC;MAC1C;MACA,gDAAgD,CACjD;MAED,IAAIC,YAAY,GAAG,CAAC;MACpB,MAAMC,OAAO,GAAGA,CAAA,KAAM;QACpB,IAAID,YAAY,IAAIF,YAAY,CAACI,MAAM,EAAE;UACvCT,MAAM,CAAC,IAAIU,KAAK,CAAC,wBAAwB,CAAC,CAAC;UAC3C;QACF;QAEA,MAAMC,MAAM,GAAG,IAAIT,KAAK,CAAC,CAAC;QAC1BS,MAAM,CAACR,MAAM,GAAG,MAAMJ,OAAO,CAACM,YAAY,CAACE,YAAY,CAAC,CAAC;QACzDI,MAAM,CAACP,OAAO,GAAG,MAAM;UACrBG,YAAY,EAAE;UACdC,OAAO,CAAC,CAAC;QACX,CAAC;QACDG,MAAM,CAACd,GAAG,GAAGQ,YAAY,CAACE,YAAY,CAAC;MACzC,CAAC;MAEDC,OAAO,CAAC,CAAC;IACX,CAAC;IACDP,GAAG,CAACJ,GAAG,GAAGA,GAAG;EACf,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMe,YAAY,GAAIC,SAAiB,IAAa;EACzD;EACA,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC;IACA,OAAO,uBAAuBH,SAAS,EAAE;EAC3C;EACA,OAAO,uBAAuBA,SAAS,EAAE;AAC3C,CAAC;;AAED;AACA,OAAO,MAAMI,aAAa,GAAG,MAAOC,UAAoB,IAAoB;EAC1E,MAAMC,QAAQ,GAAGD,UAAU,CAACE,GAAG,CAACC,IAAI,IAAIzB,SAAS,CAACyB,IAAI,CAAC,CAAC;EACxD,MAAMvB,OAAO,CAACwB,UAAU,CAACH,QAAQ,CAAC;AACpC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}